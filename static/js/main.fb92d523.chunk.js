(this.webpackJsonptest_task_jooble=this.webpackJsonptest_task_jooble||[]).push([[0],{10:function(e,t,r){e.exports={blockHistory:"HistorySearch_blockHistory__Nwv2N",button:"HistorySearch_button__dMkQp"}},13:function(e,t,r){e.exports={input:"Form_input__1V9oR",button:"Form_button__361KJ"}},15:function(e,t,r){e.exports={app:"App_app__1PYZi",header:"App_header__3HYfE"}},18:function(e,t,r){e.exports={informWeather:"Weather_informWeather__3_p6u"}},34:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r(8),c=r.n(a),i=r(2),o=r(21),s=r(16),u=r(13),h=r.n(u),d=r(1),l=function(e){var t=e.citySearch,r=e.getWeather,n=e.handleSearch;return Object(d.jsxs)("form",{onSubmit:r,children:[Object(d.jsx)("input",{type:"text",placeholder:" Enter the city",name:"city",value:t,onChange:n,className:h.a.input}),Object(d.jsx)("button",{type:"submit",className:h.a.button,children:"Submit"})]})},j=r(18),p=r.n(j),f=function(e){var t=e.name,r=e.temperature,n=e.error;return Object(d.jsxs)("div",{className:p.a.informWeather,children:[n&&Object(d.jsx)("div",{children:n}),t&&Object(d.jsxs)("div",{children:[t," (Today) ",Math.round(100*(r.temp-273.15))/100," ","\xb0\u0421"]})]})},b=r(7),O=r.n(b),m=r(14),y="WEATHER_FEATCH_START",_="WEATHER_FEATCH_SUCCESS",v="WEATHER_FEATCH_ERROR",x="WEATHER_LOADING",w="WEATHER_FEATCH_FOR_FIVE_DAYS",g=function(e){return{type:_,payload:e}},S=function(e){return{type:x,payload:e}},E=function(e){return{type:w,payload:e}},W="17009a21e213f47c6745fb2f43f22fe7",k=function(e){return function(){var t=Object(m.a)(O.a.mark((function t(r){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r(S(!0)),t.next=3,fetch("https://api.openweathermap.org/data/2.5/weather?q=".concat(e,"&units=celsius&APPID=").concat(W)).then((function(e){return e.json()})).then((function(e){if(200!==e.cod)throw r((t=e.message,{type:v,payload:t})),new Error(e.message);var t;r(g(e))})).finally((function(){r(S(!1))}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},F=function(e){return function(){var t=Object(m.a)(O.a.mark((function t(r){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r(S(!0)),t.next=3,fetch("https://api.openweathermap.org/data/2.5/forecast?q=".concat(e,"&appid=").concat(W)).then((function(e){return e.json()})).then((function(e){return e.list.filter((function(e){return e.dt_txt.includes("12:00:00")}))})).then((function(e){return r(E(e))}));case 3:r(S(!1));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},H=function(){return Object(d.jsx)("h1",{children:"Loading..."})},R=r(15),A=r.n(R),C=r(10),N=r.n(C),T=function(e){var t=e.item,r=e.handleClick;return Object(d.jsx)("button",{type:"button",className:N.a.button,onClick:function(){return r(t.id)},children:t.citySearch})},D=function(e){var t=e.lastHistorySearch,r=e.handleClick;return Object(d.jsxs)("div",{className:N.a.blockHistory,children:[Object(d.jsxs)("h2",{children:["Last ",t.length," queries"]}),t.length>0&&t.map((function(e){return Object(d.jsx)(T,{item:e,handleClick:r},e.id)})).reverse()]})},I=r(4),L=r.n(I),J=function(e){var t=e.item,r=1e3*t.dt,n=new Date(r).toLocaleString("en",{weekday:"long"}),a=n[0].toUpperCase()+n.slice(1),c="http://openweathermap.org/img/wn/".concat(t.weather[0].icon,".png");return Object(d.jsxs)("div",{className:L.a.weatherCardItem,children:[Object(d.jsx)("h2",{className:L.a.day,children:a}),Object(d.jsxs)("div",{className:L.a.temperature,children:[Math.round(100*(t.main.temp-273.15))/100," \xb0\u0421"]}),Object(d.jsx)("img",{src:c,alt:"icon"}),Object(d.jsx)("div",{children:t.weather[0].description})]})},M=function(){var e=Object(i.c)((function(e){return e.weatherReduser.weatherOnWeekdays})),t=Object(i.b)();return Object(n.useEffect)((function(){t(F("Kyiv")).catch((function(e){alert(e)}))}),[]),Object(d.jsx)("div",{className:L.a.weatherOnWeekdays,children:e&&e.map((function(e){return Object(d.jsx)(J,{item:e},e.dt)}))})};var U=function(){var e=Object(n.useState)(""),t=Object(s.a)(e,2),r=t[0],a=t[1],c=Object(n.useState)([]),u=Object(s.a)(c,2),h=u[0],j=u[1],p=Object(i.c)((function(e){return e.weatherReduser.isLoading})),b=Object(i.c)((function(e){return e.weatherReduser.data})),O=Object(i.c)((function(e){return e.weatherReduser.error})),m=Object(i.b)();return Object(n.useEffect)((function(){m(k("Kyiv"));var e=localStorage.getItem("contactUsers");if(e){var t=JSON.parse(e);j(t)}}),[]),Object(n.useEffect)((function(){localStorage.setItem("contactUsers",JSON.stringify(h))}),[h]),Object(d.jsxs)("div",{className:A.a.app,children:[Object(d.jsxs)("div",{className:A.a.header,children:[Object(d.jsxs)("div",{children:[Object(d.jsx)("h1",{children:"Weather Forecast"}),Object(d.jsx)(l,{citySearch:r,getWeather:function(e){e.preventDefault();var t=e.target.elements.city.value;m(k(t)).then((function(){var e={id:new Date,citySearch:r};10===h.length&&h.shift(),j((function(t){return[].concat(Object(o.a)(t),[e])})),a("")})).catch((function(e){alert(e),a("")}))},handleSearch:function(e){a(e.target.value)}})]}),p?Object(d.jsx)(H,{}):Object(d.jsx)(f,{name:b.name,temperature:b.main,error:O})]}),Object(d.jsx)(D,{lastHistorySearch:h,handleClick:function(e){var t=h.find((function(t){return t.id===e}));m(k(t.citySearch)),m(F(t.citySearch))}}),!O&&Object(d.jsx)(M,{})]})},q=r(6),K=r(19),P=r(20),Y=r(3),V={data:{name:"",temperature:null},isLoading:!1,error:"",weatherOnWeekdays:[]},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0,r=t.type,n=t.payload;switch(r){case y:return;case _:return Object(Y.a)(Object(Y.a)({},e),{},{data:n,error:""});case v:return Object(Y.a)(Object(Y.a)({},e),{},{data:{},error:n});case x:return Object(Y.a)(Object(Y.a)({},e),{},{isLoading:n});case w:return Object(Y.a)(Object(Y.a)({},e),{},{error:"",weatherOnWeekdays:n});default:return e}},G=Object(q.combineReducers)({weatherReduser:B}),Q=[P.a],Z=q.applyMiddleware.apply(void 0,Q),z=Object(q.createStore)(G,Object(K.composeWithDevTools)(Z));c.a.render(Object(d.jsx)(i.a,{store:z,children:Object(d.jsx)(U,{})}),document.getElementById("root"))},4:function(e,t,r){e.exports={weatherOnWeekdays:"WeatherForFiveDays_weatherOnWeekdays__2wnFH",weatherCardItem:"WeatherForFiveDays_weatherCardItem__1inEA",day:"WeatherForFiveDays_day__1bLvW",temperature:"WeatherForFiveDays_temperature__2sO2J"}}},[[34,1,2]]]);
//# sourceMappingURL=main.fb92d523.chunk.js.map